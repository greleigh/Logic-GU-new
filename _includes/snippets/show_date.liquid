{% comment %}
    Print a pretty date (somehow)
    input:
        date:    (date)   the datetime to be displayed
        end-date (date)   end-date of event
        format   (string) format for date:
    output:
        (cal-icon) date [to date-end]. Hours omitted if end-date
{% endcomment %}
{%- assign hm = include.date | date: '%H%M' -%}
{%- if hm != '0000' -%}{%- assign show_time = true -%}{%- endif -%}
{%- case include.format -%}
    {%- when "short" -%}
        {%- assign format = '%a, %-d %b %Y' -%}
    {%- else -%}
        {%- assign format = '%A, %-d %B %Y' -%}
{%- endcase -%}
{%- if show_time -%}{%- assign format = format | append: ', %H:%M' -%}{%- endif -%}
<time datetime="{{ include.date }}"><i class="fa-solid fa-calendar fa-sm"></i> {{ include.date | date: format }}</time>
{%- if include.end-date %} to <time datetime="{{ include.end-date }}">{{ include.end-date | date: format }}</time>
{%- endif -%}