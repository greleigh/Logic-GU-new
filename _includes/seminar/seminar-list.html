<ul class="post-list">

    {%- if page.pagination.enabled -%}
      {%- assign postlist = paginator.posts -%}
    {%- else -%}
      {%- assign postlist = site.posts -%}
    {%- endif -%}

    {% for post in postlist %}

    {% capture speaker -%}{{ post.speaker }}{%- if post.affil %} ({{ post.affil }}){%- endif -%}{% endcapture %}

  <li>
    <a class="post-title" href="{{ post.url | relative_url }}">
    <h3>{{ post.title }}</h3><h4>{{ speaker }}</h4>
    </a>
    
    <div class="post-body">
      {%- if post.excerpt == post.content -%}
      {{ post.content }}
      {%- else -%}
      <details>
        <summary><div>{{ post.excerpt | markdownify }}</div></summary>
        <div>{{ post.content | remove_first: post.excerpt }}</div>
      </details>
      {%- endif -%}
    </div>
    <div class="post-footer">
      <div class="post-meta">
          <time datetime="{{ post.date }}"><i class="fa-solid fa-calendar fa-sm"></i> {{ post.date | date: '%a, %-d %B %Y, %H:%M' }}</time> <!-- </a> -->
          <!-- {% if tags != "" %}
          &nbsp; &middot; &nbsp;
            {% for tag in post.tags %}
            <a href="{{ tag | slugify | prepend: '/blog/tag/' | prepend: site.baseurl}}">
              <i class="fa-solid fa-hashtag fa-sm"></i> {{ tag }}</a> &nbsp;
              {% endfor %}
          {% endif %} -->
          {% if categories != "" %}
          &nbsp; &middot; &nbsp;
            {% for category in post.categories %}
            {% include snippets/get_cat_name.liquid 
              category=category
              %}
            <a href="{{ category | slugify | prepend: '/blog/category/' | prepend: site.baseurl}}">
              <i class="fa-solid fa-tag fa-sm"></i> {{ category_name }}</a> &nbsp;
              {% endfor %}
          {% endif %}
        </div>
    </div>
  </li>

    {% endfor %}
  </ul>

  {%- if page.pagination.enabled -%}
    {%- include pagination.html -%}
  {%- endif -%}